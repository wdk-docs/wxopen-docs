

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>第三方平台的申请资料说明 &mdash; wxopen-docs 1.0.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="第三方平台安全管理说明" href="secure.html" />
    <link rel="prev" title="第三方平台的权限说明" href="jurisdiction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html" class="icon icon-home"> wxopen-docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../wxapp/index.html">小程序管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/index.html">移动应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../website/index.html">网站应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pubno/index.html">公众号</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">第三方平台</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">第三方平台概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth/index.html">授权流程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mp/index.html">代公众号实现业务</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">开发前必读</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="design.html">产品设计指引</a></li>
<li class="toctree-l3"><a class="reference internal" href="jurisdiction.html">第三方平台的权限说明</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">第三方平台的申请资料说明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">授权流程相关</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">授权后代替公众号实现业务</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">其他</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="secure.html">第三方平台安全管理说明</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../wire.html">消息加解密说明</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../code/index.html">错误码</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../download/index.html">资源下载</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">术语</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">wxopen-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">第三方平台</a> &raquo;</li>
        
          <li><a href="index.html">开发前必读</a> &raquo;</li>
        
      <li>第三方平台的申请资料说明</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/open/pre/material.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>第三方平台的申请资料说明<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>开发者在申请创建公众号第三方平台时，需要填写很多开发参数。现针对这些开发参数做如下说明：</p>
<div class="section" id="id2">
<h2>授权流程相关<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<div class="section" id="id3">
<h3>授权发起页域名<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>指公众号在登录授权给第三方平台方时的授权回调域名，在公众号进行登录授权流程中，必须从本域名内网页跳转到登录授权页，才可完成登录授权。授权成功后会回调授权时提供的
URI，公众平台会检查 URI，必须保证 URI
所属域名与服务申请时提供的授权域名保持一致。请注意，域名不需带有<code class="docutils literal notranslate"><span class="pre">http://</span></code>
等协议内容，也不能在域名末尾附加详细目录，严格按照类似 www.qq.com
的写法。</p>
</div>
<div class="section" id="url">
<h3>发起授权页的体验 URL<a class="headerlink" href="#url" title="永久链接至标题">¶</a></h3>
<p>用于审核人员前往授权页体验，确认流程可用性。在提交全网发布时，务必保证该
URL 可直接体验。全网发布之前，该项可先填为发起页域名</p>
</div>
<div class="section" id="id4">
<h3>授权测试公众号列表<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>在全网发布之前，仅该列表内公众号才可进行授权，以便测试。请填写公众号的原始
ID（可在公众平台网站的公众号设置页找到），最多 10 个，以英文“;”隔开。</p>
</div>
<div class="section" id="id5">
<h3>授权事件接收 URL<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>用于接收取消授权通知、授权成功通知、授权更新通知，也用于接收
ticket，ticket 是验证平台方的重要凭据，服务方在获取
component_access_token 时需要提供最新推送的 ticket
以供验证身份合法性。此 ticket 作为验证服务方的重要凭据，请妥善保存。</p>
</div>
</div>
<div class="section" id="id6">
<h2>授权后代替公众号实现业务<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<div class="section" id="token">
<h3>公众号消息校验 Token<a class="headerlink" href="#token" title="永久链接至标题">¶</a></h3>
<p>开发者在代替公众号接收到消息时，用此 Token 来校验消息。用法与普通公众号
token 一致</p>
</div>
<div class="section" id="key">
<h3>公众号消息加解密 Key<a class="headerlink" href="#key" title="永久链接至标题">¶</a></h3>
<p>在代替公众号收发消息过程中使用。必须是长度为 43
位的字符串，只能是字母和数字。用法与普通公众号 symmetric_key 一致</p>
</div>
<div class="section" id="id7">
<h3>公众号消息与事件接收 URL<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<p>该 URL
用于接收已授权公众号的消息和事件，消息内容、消息格式、签名方式、加密方式与普通公众号接收的一致，唯一区别在于签名
token 和加密 symmetric_key
使用的是服务方申请时所填写的信息。由于消息具体内容不会变更，故根据消息内容里的
ToUserName，服务方是可以区分出具体消息所属的公众号。请注意：</p>
<ol class="arabic simple">
<li><p>考虑到服务需要接收大量的授权公众号的消息，为了便于做业务分流和业务隔离，必须提供如下形式的
url：www.abc.com/aaa/<span class="math notranslate nohighlight">\(APPID\)</span>/bbb/cgi，其中:math:<cite>APPID</cite>在实际推送时会替换成所属的已授权公众号的
appid。</p></li>
<li><p>第三方平台只需获得某个业务模块的授权（而不需要获得客服与菜单权限的授权），然后在收到该业务模块事件推送后，如果该事件是允许进行
5
秒内被动回复消息给粉丝的，那么第三方就可以被动回复（业务模块的哪些事件推送允许被动回复用户，哪些不允许，需咨询具体业务模块），点击查看被动回复接口文档</p></li>
<li><p>如果第三方希望实现实时获知公众号有新粉丝关注，只需要收到关注事件后回复
success
即可，不必另行回复，免得公众号出现多个第三方同时进行粉丝关注后的自动回复。</p></li>
</ol>
<p>网页开发域名：网页开发域名最多可以填写 3
个，每个以英文<code class="docutils literal notranslate"><span class="pre">;</span></code>符号隔开。每个网页开发域名会产生 2
个效果（请注意，勿域名不需带有<code class="docutils literal notranslate"><span class="pre">http://</span></code>等协议内容，也不能在域名末尾附加详细目录）：</p>
<ol class="arabic simple">
<li><p>在该域名和符合要求的下级域名内，可以代替旗下授权后公众号发起网页授权。下级域名必须是<span class="math notranslate nohighlight">\(APPID\)</span>.wx.abc.com
的形式（<span class="math notranslate nohighlight">\(APPID\)</span>为公众号的 AppID
的替换符，建议第三方用这种方式，若需可做域名映射），如果不按这种形式来做，旗下公众号违规将可能导致整个网站被封。</p></li>
<li><p>在该域名（一级域名）内，可以代替旗下授权后公众号调用 JS
SDK（需要配合公众号的 AppID）</p></li>
</ol>
</div>
</div>
<div class="section" id="id8">
<h2>其他<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h2>
<p>白名单 IP 地址列表：仅当开发者 IP
地址在该列表中时，才被允许调用相关接口。最多填写 100 个 IP
地址，以英文“;”隔开。后续有出口 IP
变更时一定要先在申请资料里填写并覆盖现网，否则会被拦截。</p>
<p>注：对于申请资料中填写的所有完整有效 url，都需要做一次 echo
校验，以确定该 url 是有效可连通的，这个与普通公众号开发模式下 url
校验方式一致，只是使用的 token 为服务方的 token。</p>
<p>具体校验规则请点击</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="secure.html" class="btn btn-neutral float-right" title="第三方平台安全管理说明" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="jurisdiction.html" class="btn btn-neutral float-left" title="第三方平台的权限说明" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, nosy

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>