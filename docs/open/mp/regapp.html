

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>复用公众号主体快速注册小程序 &mdash; wxopen-docs 1.0.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="sdk.html" />
    <link rel="prev" title="微信开放平台帐号管理" href="open_account.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html" class="icon icon-home"> wxopen-docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/index.html">移动应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../website/index.html">网站应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pubno/index.html">公众号</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">第三方平台</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">第三方平台概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth/index.html">授权流程技术说明</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mini/index.html">代小程序实现业务-开发简介</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">代公众号实现业务</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="open_account.html">微信开放平台帐号管理</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">复用公众号主体快速注册小程序</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">能力介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">开放范围</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">相关规则</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">快速注册流程</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">1. 注册流程及接口说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">3. 设置名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">4. 修改头像</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">5. 修改功能介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">6. 设置类目</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">7. 换绑管理员</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="weapp.html">小程序管理权限集</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pre/index.html">开发前必读</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wire.html">消息加解密说明</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../code/index.html">错误码</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../download/index.html">资源下载</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">术语</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">wxopen-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">第三方平台</a> &raquo;</li>
        
          <li><a href="index.html">代公众号实现业务</a> &raquo;</li>
        
      <li>复用公众号主体快速注册小程序</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/open/mp/regapp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>复用公众号主体快速注册小程序<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2>能力介绍<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>为帮助已有公众号用户快速接入小程序服务，公众平台新增“快速注册小程序”权限集。公众号可授权第三方平台快速注册并认证小程序。
一个公众号只可以将该权限集授权给一个第三方平台，即授权互斥。
完成注册后的小程序默认授权给该第三方平台管理，没有独立的帐号密码，不可登录小程序后台。</p>
</div>
<div class="section" id="id3">
<h2>开放范围<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>已认证的企业/媒体/政府/其他组织类型公众号。一个公众号一个月可以复用资质注册
5 个小程序。</p>
</div>
<div class="section" id="id4">
<h2>相关规则<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<ol class="arabic simple">
<li><p>复用资质创建的小程序默认与该公众号关联；不占一个月新增关联 13
个小程序的限制;</p></li>
<li><p>复用资质创建的小程序关联公众号，不下发模板消息，不默认出现在公众号资料页;</p></li>
<li><p>一个公众号若存在“待完成注册”的小程序，不可发起复用资质创建小程序;</p></li>
<li><p>一个公众号一个月内可复用资质注册小程序不多于 5 个。(创建成功才占用);</p></li>
<li><p>使用复用公众号资质注册小程序，将以本公众号的主体作为该小程序的开发者；</p></li>
<li><p>若选择了复用认证资质，则小程序完成注册后即是“已认证”状态。认证到期时间与公众号一致。</p></li>
</ol>
</div>
<div class="section" id="id5">
<h2>快速注册流程<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<ul>
<li><p>步骤一：权限准备</p>
<p>第三方平台使用该接口前需具备以下 5 个权限集：</p>
<ol class="arabic simple">
<li><p>账号服务权限</p></li>
<li><p>小程序账号管理权限</p></li>
<li><p>小程序开发管理与数据分析权限</p></li>
<li><p>小程序认证权限</p></li>
<li><p>小程序基本信息设置权限</p></li>
</ol>
<p>准备好权限集，全网发布视为生效。</p>
<p>详细流程可参考：《授权流程技术说明》</p>
</li>
<li><p>步骤二：使用注册接口创建小程序</p></li>
<li><p>步骤三：使用小程序账号信息设置接口，补充新建小程序信息</p></li>
</ul>
</div>
<div class="section" id="id6">
<h2>1. 注册流程及接口说明<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>快速注册接口使用流程说明：</p>
<ul class="simple">
<li><p>步骤一：从第三方平台页面发起，并跳转至微信公众平台指定授权注册页面。</p></li>
<li><p>步骤二：公众号管理员扫码确认复用公众号资质快速注册小程序。</p></li>
<li><p>步骤三：管理员扫码验证通过后跳转至第三方平台页面，微信将注册结果返回给第三方平台。</p></li>
</ul>
<div class="section" id="id7">
<h3>1.1. 从第三方平台跳转至微信公众平台授权注册页面<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<p>从第三方平台跳转到微信公众平台授权页，需携带的参数如下</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 9%" />
<col style="width: 91%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>参数说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>comp
onen
t_ap
pid</p></td>
<td><p>第三方平台的 appid</p></td>
</tr>
<tr class="row-odd"><td><p>appi
d</p></td>
<td><p>公众号的 appid</p></td>
</tr>
<tr class="row-even"><td><p>copy
_wx_
veri
fy</p></td>
<td><p>是否复用公众号的资质进行微信认证(1:申请复用资质进行微信 认证
0:不申请)</p></td>
</tr>
<tr class="row-odd"><td><p>redi
rect
_uri</p></td>
<td><p>用户扫码授权后，MP 扫码页面将跳转到该地址(注:1.链接需
urlencode 2.Host 需和第三方平台在微信开放平台上面填写的登
录授权的发起页域名一致)</p></td>
</tr>
</tbody>
</table>
<p>跳转到微信公众平台授权页面链接举例:</p>
<p><a class="reference external" href="https://mp.weixin.qq.com/cgi-bin/fastregisterauth?appid=wx28f759479ea1e090&amp;component_appid=wx666666666666123&amp;copy_wx_verify=1&amp;redirect_uri=https%3a%2f%2fwww.qq.com%2fauth%2fcallback%3ffrom%3dmp">https://mp.weixin.qq.com/cgi-bin/fastregisterauth?appid=wx28f759479ea1e090&amp;component_appid=wx666666666666123&amp;copy_wx_verify=1&amp;redirect_uri=https%3a%2f%2fwww.qq.com%2fauth%2fcallback%3ffrom%3dmp</a></p>
<p>示例示意图：</p>
<div class="figure align-center" id="id27">
<img alt="授权页示意图" src="https://mmbiz.qpic.cn/mmbiz_png/j9ZjBPiaKs5O7FmGFVpZVUicyFzGvJe4SvKMaDaRhapqeqWwrhdRW0Pd6NE72kgwZCMbYCwM1SHwbT5GsicmQ2jSQ/0?wx_fmt=png" />
<p class="caption"><span class="caption-text">授权页示意图</span><a class="headerlink" href="#id27" title="永久链接至图片">¶</a></p>
</div>
</div>
<div class="section" id="id8">
<h3>1.2. 公众号管理员扫码确认授权注册，并跳转回第三方平台<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>公众号管理员扫码后在手机端完成授权确认。</p>
<p>跳转回第三方平台，会在上述 redirect_uri 后拼接 ticket=*</p>
<p>跳转回第三方平台举例:</p>
<p><a class="reference external" href="https://www.qq.com/auth/callback?from=mp&amp;ticket=b25519093b1e97239eff9d2bfc07e08e">https://www.qq.com/auth/callback?from=mp&amp;ticket=b25519093b1e97239eff9d2bfc07e08e</a></p>
</div>
<div class="section" id="api">
<h3>1.3. 跳转至第三方平台，第三方平台调用快速注册 API 完成注册<a class="headerlink" href="#api" title="永久链接至标题">¶</a></h3>
<p>请求方式:</p>
<p>POST(请使用 https 协议)</p>
<p><a class="reference external" href="https://api.weixin.qq.com/cgi-bin/account/fastregister?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/account/fastregister?access_token=TOKEN</a></p>
<p>注：使用公众号 appid 换取 authorizer_access_token</p>
<p>请求示例:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;ticket&quot;</span><span class="p">:</span> <span class="s2">&quot;b25519093b1e97239eff9d2bfc07e08e&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 9%" />
<col style="width: 91%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ticket</p></td>
<td><p>公众号扫码授权的凭证(公众平台扫码页面回跳到第三方平台时携带)</p></td>
</tr>
</tbody>
</table>
<p>返回说明:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;appid&quot;</span><span class="p">:</span> <span class="s2">&quot;wxe5f52902cf4de896&quot;</span><span class="p">,</span>
  <span class="nt">&quot;authorization_code&quot;</span><span class="p">:</span> <span class="s2">&quot;****&quot;</span><span class="p">,</span>
  <span class="nt">&quot;is_wx_verify_succ&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
  <span class="nt">&quot;is_link_succ&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>注：使用 <code class="docutils literal notranslate"><span class="pre">appid</span></code> 及 <code class="docutils literal notranslate"><span class="pre">authorization_code</span></code> 换取
<code class="docutils literal notranslate"><span class="pre">authorizer_refresh_token</span></code> 后需及时保存。</p>
<p>如未保存可参考公众号第三方平台的权限说明 重新获取。</p>
<p>参数说明:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>errcode</p></td>
<td><p>错误码</p></td>
</tr>
<tr class="row-odd"><td><p>errmsg</p></td>
<td><p>错误信息</p></td>
</tr>
<tr class="row-even"><td><p>appid</p></td>
<td><p>新创建小程序的 appid</p></td>
</tr>
<tr class="row-odd"><td><p>authorization_code</p></td>
<td><p>新创建小程序的授权码</p></td>
</tr>
<tr class="row-even"><td><p>is_wx_verify_succ</p></td>
<td><p>复用公众号微信认证小程序是否成功</p></td>
</tr>
<tr class="row-odd"><td><p>is_link_succ</p></td>
<td><p>小程序是否和公众号关联成功</p></td>
</tr>
</tbody>
</table>
<p>错误码说明:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>错误码</p></th>
<th class="head"><p>错误说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>61051</p></td>
<td><p>公众号主体类型不允许快速创建</p></td>
</tr>
<tr class="row-odd"><td><p>61052</p></td>
<td><p>公众号未认证</p></td>
</tr>
<tr class="row-even"><td><p>61053</p></td>
<td><p>超过主体可注册数量上限</p></td>
</tr>
<tr class="row-odd"><td><p>61054</p></td>
<td><p>主体黑名单</p></td>
</tr>
<tr class="row-even"><td><p>61055</p></td>
<td><p>超出公众号每月可快速创建限额</p></td>
</tr>
<tr class="row-odd"><td><p>61056</p></td>
<td><p>政府. 媒体. 其他组织必须复选微信认证</p></td>
</tr>
<tr class="row-even"><td><p>61057</p></td>
<td><p>公众号仍有快速创建的账号在流程中</p></td>
</tr>
<tr class="row-odd"><td><p>61058</p></td>
<td><p>用户扫码凭证校验不通过</p></td>
</tr>
<tr class="row-even"><td><p>61028</p></td>
<td><p>第三方平台未发布</p></td>
</tr>
<tr class="row-odd"><td><p>61029</p></td>
<td><p>第三方平台缺少必备权限集(帐号服务权限. 程序帐号管理权限. 小程序开发管理与数据分析权限)</p></td>
</tr>
<tr class="row-even"><td><p>61060</p></td>
<td><p>转 uri 不合法</p></td>
</tr>
<tr class="row-odd"><td><p>61061</p></td>
<td><p>海外帐号不允许快速创建</p></td>
</tr>
</tbody>
</table>
<p>!!! note “注:小程序信息设置相关接口”</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">该章节接口需要使用</span> <span class="mf">1.3</span> <span class="nx">环节获取到的新创建小程序</span> <span class="sb">`appid`</span> <span class="nx">及</span> <span class="sb">`authorization_code`</span> <span class="nx">换取</span> <span class="sb">`authorizer_refresh_token`</span> <span class="nx">进而得到</span> <span class="sb">`authorizer_access_token。`</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>2. 获取帐号基本信息<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>GET:
<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/account/getaccountbasicinfo?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/account/getaccountbasicinfo?access_token=TOKEN</a></p>
<p>返回数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;appid&quot;</span><span class="p">:</span> <span class="s2">&quot;wxdc685123d955453&quot;</span><span class="p">,</span>
  <span class="nt">&quot;account_type&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;principal_type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;principal_name&quot;</span><span class="p">:</span> <span class="s2">&quot;深圳市腾讯计算机系统有限公司&quot;</span><span class="p">,</span>
  <span class="nt">&quot;realname_status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;wx_verify_info&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;qualification_verify&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;naming_verify&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;annual_review&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;annual_review_begin_time&quot;</span><span class="p">:</span> <span class="mi">1550490981</span><span class="p">,</span>
    <span class="nt">&quot;annual_review_end_time&quot;</span><span class="p">:</span> <span class="mi">1558266981</span>
  <span class="p">},</span>
  <span class="nt">&quot;signature_info&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;功能介绍&quot;</span><span class="p">,</span>
    <span class="nt">&quot;modify_used_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;modify_quota&quot;</span><span class="p">:</span> <span class="mi">5</span>
  <span class="p">},</span>
  <span class="nt">&quot;head_image_info&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;head_image_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://mmbiz.qpic.cn/mmbiz/a5icZrUmbV8p5jb6RZ8aYfjfS2AVle8URwBt8QIu6XbGewB9wiaWYWkPwq4R7pfdsFibuLkic16UcxDSNYtB8HnC1Q/0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;modify_used_count&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;modify_quota&quot;</span><span class="p">:</span> <span class="mi">5</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<p>返回码说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 75%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>errcode 取值</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>非 0</p></td>
<td><p>异常</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id10">
<h2>3. 设置名称<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<div class="section" id="id11">
<h3>3.1. 微信认证名称检测<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>POST(请使用 https 协议)</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/wxverify/checkwxverifynickname?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/wxverify/checkwxverifynickname?access_token=TOKEN</a></p>
<p>POST 数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;nick_name&quot;</span><span class="p">:</span> <span class="s2">&quot;杨幂的测试用例&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 17%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nick_name</p></td>
<td><p>必填</p></td>
<td><p>string</p></td>
<td><p>名称（昵称）</p></td>
</tr>
</tbody>
</table>
<p>返回数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;hit_condition&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;wording&quot;</span><span class="p">:</span> <span class="s2">&quot;你申请的名称可能涉及特定主体姓名或名称，请提供可确认主体材料与名称对应的材料，或提供《商标注册证》等其他材料，以证明你有权合理且善意使用该名称，否则可能审核不通过&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>hit_condition</p></td>
<td><p>bool</p></td>
<td><p>是否命中关键字策略。若命中，可以选填关键字材料</p></td>
</tr>
<tr class="row-odd"><td><p>wording</p></td>
<td><p>string</p></td>
<td><p>命中关键字的说明描述（给用户看的）</p></td>
</tr>
</tbody>
</table>
<p>返回码说明：</p>
</div>
<div class="section" id="id12">
<h3>3.2. 名称设置及改名<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h3>
<p>请求方式:</p>
<p>POST(请使用 https 协议)</p>
<p><a class="reference external" href="https://api.weixin.qq.com/wxa/setnickname?access_token=TOKEN">https://api.weixin.qq.com/wxa/setnickname?access_token=TOKEN</a></p>
<p>POST 数据示例:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;nick_name&quot;</span><span class="p">:</span> <span class="s2">&quot;XXX 公司&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id_card&quot;</span><span class="p">:</span> <span class="s2">&quot;12345678-0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;广州市新港中路 397 号 TIT 创意园&quot;</span><span class="p">,</span>
  <span class="nt">&quot;naming_other_stuff_1&quot;</span><span class="p">:</span> <span class="s2">&quot;3LaLzqiTrQcD20DlX_o-OV1-nlYMu7sdVAL7SV2PrxVyjZFZZmB3O6LPGaYXlZWq&quot;</span><span class="p">,</span>
  <span class="nt">&quot;naming_other_stuff_2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;naming_other_stuff_3&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;naming_other_stuff_4&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;naming_other_stuff_5&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>请求参数:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 28%" />
<col style="width: 58%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
<th class="head"><p>备注</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nick_name</p></td>
<td><p>昵称</p></td>
<td><p>必填</p></td>
</tr>
<tr class="row-odd"><td><p>id_card</p></td>
<td><p>身份证照片–临时素材 mediaid</p></td>
<td><p>个人号必填</p></td>
</tr>
<tr class="row-even"><td><p>license</p></td>
<td><p>组织机构代码证或营业执照–临时素材 mediaid</p></td>
<td><p>组织号必填</p></td>
</tr>
<tr class="row-odd"><td><p>naming_other_stuff_1</p></td>
<td><p>其他证明材料—临时素材 mediaid</p></td>
<td><p>选填</p></td>
</tr>
<tr class="row-even"><td><p>naming_other_stuff_2</p></td>
<td><p>其他证明材料—临时素材 mediaid</p></td>
<td><p>选填</p></td>
</tr>
<tr class="row-odd"><td><p>naming_other_stuff_3</p></td>
<td><p>其他证明材料—临时素材 mediaid</p></td>
<td><p>选填</p></td>
</tr>
<tr class="row-even"><td><p>naming_other_stuff_4</p></td>
<td><p>其他证明材料—临时素材 mediaid</p></td>
<td><p>选填</p></td>
</tr>
<tr class="row-odd"><td><p>naming_other_stuff_5</p></td>
<td><p>其他证明材料—临时素材 mediaid</p></td>
<td><p>选填</p></td>
</tr>
</tbody>
</table>
<p>注: 临时素材 mediaid 通过调用“临时素材管理接口”获取.</p>
<p>新增临时素材:
<a class="reference external" href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444738726">https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444738726</a></p>
<p>获取临时素材:
<a class="reference external" href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444738727">https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444738727</a></p>
<p>第三方代小程序调用上述接口:</p>
<p><a class="reference external" href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resourceres_list&amp;verify=1&amp;id=open1453779503&amp;token=&amp;lang=zh_CN">https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resourceres_list&amp;verify=1&amp;id=open1453779503&amp;token=&amp;lang=zh_CN</a></p>
<p>返回 json 示例(门店小程序类目分一级和二级类目):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;wording&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;audit_id&quot;</span><span class="p">:</span> <span class="mi">12345</span>
<span class="p">}</span>
</pre></div>
</div>
<p>返回参数说明:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>wording</p></td>
<td><p>材料说明</p></td>
</tr>
<tr class="row-odd"><td><p>audit_id</p></td>
<td><p>审核单 id</p></td>
</tr>
</tbody>
</table>
<p>错误码说明:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>返回码</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>91001</p></td>
<td><p>不是公众号快速创建的小程序</p></td>
</tr>
<tr class="row-odd"><td><p>91002</p></td>
<td><p>小程序发布后不可改名</p></td>
</tr>
<tr class="row-even"><td><p>91003</p></td>
<td><p>改名状态不合法</p></td>
</tr>
<tr class="row-odd"><td><p>91004</p></td>
<td><p>昵称不合法</p></td>
</tr>
<tr class="row-even"><td><p>91005</p></td>
<td><p>昵称命中主体保护</p></td>
</tr>
<tr class="row-odd"><td><p>91006</p></td>
<td><p>昵称命中微信号</p></td>
</tr>
<tr class="row-even"><td><p>91007</p></td>
<td><p>昵称已被占用</p></td>
</tr>
<tr class="row-odd"><td><p>91008</p></td>
<td><p>昵称命中 7 天侵权保护期</p></td>
</tr>
<tr class="row-even"><td><p>91009</p></td>
<td><p>需要提交材料</p></td>
</tr>
<tr class="row-odd"><td><p>91010</p></td>
<td><p>其他错误</p></td>
</tr>
<tr class="row-even"><td><p>91015</p></td>
<td><p>创建的小程序名称与对应公众号主体不一致</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id13">
<h3>3.3. 改名审核状态查询<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>POST（请使用 https 协议）</p>
<p><a class="reference external" href="https://api.weixin.qq.com/wxa/api_wxa_querynickname?access_token=TOKEN">https://api.weixin.qq.com/wxa/api_wxa_querynickname?access_token=TOKEN</a></p>
<p>POST 数据示例：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;audit_id&quot;</span><span class="p">:</span> <span class="mi">12345</span>
<span class="p">}</span>
</pre></div>
</div>
<p>请求参数：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 38%" />
<col style="width: 43%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
<th class="head"><p>备注</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>audit_id</p></td>
<td><p>审核单 id</p></td>
<td><p>必填</p></td>
</tr>
</tbody>
</table>
<p>返回 json 示例：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;nickname&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
  <span class="nt">&quot;audit_stat&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;fail_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
  <span class="nt">&quot;create_time&quot;</span><span class="p">:</span> <span class="mi">1519724071</span><span class="p">,</span>
  <span class="nt">&quot;audit_time&quot;</span><span class="p">:</span> <span class="mi">1519724950</span>
<span class="p">}</span>
</pre></div>
</div>
<p>返回参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nickname</p></td>
<td><p>审核昵称</p></td>
</tr>
<tr class="row-odd"><td><p>audit_stat</p></td>
<td><p>审核状态，1：审核中，2：审核失败，3：审核成功</p></td>
</tr>
<tr class="row-even"><td><p>fail_reason</p></td>
<td><p>失败原因</p></td>
</tr>
<tr class="row-odd"><td><p>create_time</p></td>
<td><p>审核提交时间</p></td>
</tr>
<tr class="row-even"><td><p>audit_time</p></td>
<td><p>审核完成时间</p></td>
</tr>
</tbody>
</table>
<p>错误码说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>返回码</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>91011</p></td>
<td><p>查不到昵称修改审核单信息</p></td>
</tr>
<tr class="row-odd"><td><p>91012</p></td>
<td><p>其它错误</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id14">
<h2>4. 修改头像<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h2>
<p>请求方式：</p>
<p>POST(请使用 https 协议)</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/account/modifyheadimage?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/account/modifyheadimage?access_token=TOKEN</a></p>
<p>POST 数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;head_img_media_id&quot;</span><span class="p">:</span> <span class="s2">&quot;mI-4E_sFh_2X3g-qmTIWD83RT78ytI1_6VfgFp_A3-Y2U5T_nLl3nm1xYTafFJ8p&quot;</span><span class="p">,</span>
  <span class="nt">&quot;x1&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;y1&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;x2&quot;</span><span class="p">:</span> <span class="mf">0.7596899224806202</span><span class="p">,</span>
  <span class="nt">&quot;y2&quot;</span><span class="p">:</span> <span class="mf">0.49</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 23%" />
<col style="width: 12%" />
<col style="width: 11%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>head_img_media_id</p></td>
<td><p>必填</p></td>
<td><p>media_id</p></td>
<td><p>头像素材 media_id</p></td>
</tr>
<tr class="row-odd"><td><p>x1</p></td>
<td><p>必填</p></td>
<td><p>float</p></td>
<td><p>裁剪框左上角 x 坐标（取值范围：[0, 1]）</p></td>
</tr>
<tr class="row-even"><td><p>y1</p></td>
<td><p>必填</p></td>
<td><p>float</p></td>
<td><p>裁剪框左上角 y 坐标（取值范围：[0, 1]）</p></td>
</tr>
<tr class="row-odd"><td><p>x2</p></td>
<td><p>必填</p></td>
<td><p>float</p></td>
<td><p>裁剪框右下角 x 坐标（取值范围：[0, 1]）</p></td>
</tr>
<tr class="row-even"><td><p>y2</p></td>
<td><p>必填</p></td>
<td><p>float</p></td>
<td><p>裁剪框右下角 y 坐标（取值范围：[0, 1]）</p></td>
</tr>
</tbody>
</table>
<p>返回数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>图片格式只支持：BMP. JPEG. JPG. GIF. PNG，大小不超过 2M</p>
<p>注：实际头像始终为正方形</p>
<p>示例示意图：</p>
<p>头像示意图</p>
<p>返回码说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>errcode 取值</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>40097</p></td>
<td><p>参数错误</p></td>
</tr>
<tr class="row-odd"><td><p>41006</p></td>
<td><p>media_id 不能为空</p></td>
</tr>
<tr class="row-even"><td><p>40007</p></td>
<td><p>非法的 media_id</p></td>
</tr>
<tr class="row-odd"><td><p>46001</p></td>
<td><p>media_id 不存在</p></td>
</tr>
<tr class="row-even"><td><p>40009</p></td>
<td><p>图片尺寸太大</p></td>
</tr>
<tr class="row-odd"><td><p>53202</p></td>
<td><p>本月头像修改次数已用完</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id15">
<h2>5. 修改功能介绍<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h2>
<p>请求方式：</p>
<p>POST(请使用 https 协议)</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/account/modifysignature?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/account/modifysignature?access_token=TOKEN</a></p>
<p>POST 数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;提供好玩的服务。&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 15%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>signature</p></td>
<td><p>必填</p></td>
<td><p>string</p></td>
<td><p>功能介绍（简介）</p></td>
</tr>
</tbody>
</table>
<p>返回数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>返回码说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>errcode 取值</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>40097</p></td>
<td><p>参数错误</p></td>
</tr>
<tr class="row-odd"><td><p>53200</p></td>
<td><p>本月功能介绍修改次数已用完</p></td>
</tr>
<tr class="row-even"><td><p>53201</p></td>
<td><p>功能介绍内容命中黑名单关键字</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h2>6. 设置类目<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h2>
<p>注：该章节接口需要使用 1.3 环节获取到的新创建小程序 appid 及
authorization_code 换取 authorizer_refresh_token 进而得到
authorizer_access_token。</p>
<div class="section" id="id17">
<h3>6.1. 获取账号可以设置的所有类目<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>GET 数据</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/wxopen/getallcategories?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/wxopen/getallcategories?access_token=TOKEN</a></p>
<p>返回参数（JSON 格式）：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;category_list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">874</span><span class="p">],</span>
        <span class="nt">&quot;father&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">868</span><span class="p">,</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;时政信息&quot;</span><span class="p">,</span>
        <span class="nt">&quot;qualify&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;exter_list&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;inner_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;有资质证件：《互联网新闻信息服务许可证》&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                <span class="p">}</span>
              <span class="p">]</span>
            <span class="p">},</span>
            <span class="p">{</span>
              <span class="nt">&quot;inner_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;无资质：ICP 备案和《组织机构代码证》&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                <span class="p">}</span>
              <span class="p">]</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;sensitive_type&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>类目 ID</p></td>
</tr>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>类目名称</p></td>
</tr>
<tr class="row-even"><td><p>Level</p></td>
<td><p>类目层级</p></td>
</tr>
<tr class="row-odd"><td><p>Father</p></td>
<td><p>类目父级 ID</p></td>
</tr>
<tr class="row-even"><td><p>Children</p></td>
<td><p>子级类目 ID</p></td>
</tr>
<tr class="row-odd"><td><p>Sensitive_type</p></td>
<td><p>是否为敏感类目（1 为敏感类目，需要提供相应资质审核；0 为非敏感类目，无需审核）</p></td>
</tr>
<tr class="row-even"><td><p>Qualify.exter_list.inner_list.name</p></td>
<td><p>Sensitive_type 为 1 的类目需要提供的资质文件名称</p></td>
</tr>
<tr class="row-odd"><td><p>Qualify.exter_list.inner_list.url</p></td>
<td><p>资质文件示例</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id18">
<h3>6.2. 添加类目<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>POST(请使用 https 协议)</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/wxopen/addcategory?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/wxopen/addcategory?access_token=TOKEN</a></p>
<p>请求参数：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;first&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
      <span class="nt">&quot;second&quot;</span><span class="p">:</span> <span class="mi">39</span><span class="p">,</span>
      <span class="nt">&quot;certicates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;《因私出入境中介机构经营许可证》&quot;</span><span class="p">,</span>
          <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 16%" />
<col style="width: 24%" />
<col style="width: 32%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>first</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>一级类目 ID</p></td>
</tr>
<tr class="row-odd"><td><p>Second</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>二级类目 ID</p></td>
</tr>
<tr class="row-even"><td><p>Key</p></td>
<td><p>必填</p></td>
<td><p>String</p></td>
<td><p>资质名称</p></td>
</tr>
<tr class="row-odd"><td><p>Value</p></td>
<td><p>必填</p></td>
<td><p>media_id</p></td>
<td><p>资质图片</p></td>
</tr>
</tbody>
</table>
<p>返回参数（JSON 格式）：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h3>6.3. 删除类目<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>POST(请使用 https 协议)</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/wxopen/deletecategory?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/wxopen/deletecategory?access_token=TOKEN</a></p>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 16%" />
<col style="width: 24%" />
<col style="width: 32%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>first</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>一级类目 ID</p></td>
</tr>
<tr class="row-odd"><td><p>Second</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>二级类目 ID</p></td>
</tr>
</tbody>
</table>
<p>返回（JSON 格式）：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id20">
<h3>6.4. 获取账号已经设置的所有类目<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>GET
URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/wxopen/getcategory?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/wxopen/getcategory?access_token=TOKEN</a></p>
<p>参数说明：</p>
<p>返回（JSON 格式）：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;first&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
      <span class="nt">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;教育&quot;</span><span class="p">,</span>
      <span class="nt">&quot;second&quot;</span><span class="p">:</span> <span class="mi">39</span><span class="p">,</span>
      <span class="nt">&quot;second_name&quot;</span><span class="p">:</span> <span class="s2">&quot;出国移民&quot;</span><span class="p">,</span>
      <span class="nt">&quot;audit_status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nt">&quot;audit_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;quota&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="nt">&quot;category_limit&quot;</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 15%" />
<col style="width: 13%" />
<col style="width: 10%" />
<col style="width: 13%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>子参数</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>categories</p></td>
<td></td>
<td><p>必填</p></td>
<td><p>object</p></td>
<td><p>类目对象</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>first</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>一级类目 ID</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>first_name</p></td>
<td><p>必填</p></td>
<td><p>string</p></td>
<td><p>一级类目名称</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>second</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>二级类目 ID</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>second_name</p></td>
<td><p>必填</p></td>
<td><p>string</p></td>
<td><p>二级类目名称</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>audit_status</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>审核状态（1 审核中 2 审核不通过 3 审核通过）</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>audit_reason</p></td>
<td><p>必填</p></td>
<td><p>String</p></td>
<td><p>审核不通过原因</p></td>
</tr>
<tr class="row-odd"><td><p>limit</p></td>
<td></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>一个更改周期内可以设置类目的次数</p></td>
</tr>
<tr class="row-even"><td><p>quota</p></td>
<td></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>本更改周期内还可以设置类目的次数</p></td>
</tr>
<tr class="row-odd"><td><p>category_limit</p></td>
<td></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>最多可以设置的类目数量</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id21">
<h3>6.5. 修改类目<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>POST(请使用 https 协议)</p>
<p>URL：<a class="reference external" href="https://api.weixin.qq.com/cgi-bin/wxopen/modifycategory?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/wxopen/modifycategory?access_token=TOKEN</a></p>
<p>POST 数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;first&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="nt">&quot;second&quot;</span><span class="p">:</span> <span class="mi">39</span><span class="p">,</span>
  <span class="nt">&quot;certicates&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;《因私出入境中介机构经营许可证》&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 16%" />
<col style="width: 24%" />
<col style="width: 32%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数名</p></th>
<th class="head"><p>必填/选填</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>first</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>一级类目 ID</p></td>
</tr>
<tr class="row-odd"><td><p>Second</p></td>
<td><p>必填</p></td>
<td><p>Unsigned int</p></td>
<td><p>二级类目 ID</p></td>
</tr>
<tr class="row-even"><td><p>Key</p></td>
<td><p>必填</p></td>
<td><p>String</p></td>
<td><p>资质名称</p></td>
</tr>
<tr class="row-odd"><td><p>Value</p></td>
<td><p>必填</p></td>
<td><p>String</p></td>
<td><p>资质图片</p></td>
</tr>
</tbody>
</table>
<p>返回（JSON 格式）：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>返回码说明：</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>errcode 取值</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>53300</p></td>
<td><p>超出每月次数限制</p></td>
</tr>
<tr class="row-odd"><td><p>53301</p></td>
<td><p>超出可配置类目总数限制</p></td>
</tr>
<tr class="row-even"><td><p>53302</p></td>
<td><p>当前账号主体类型不允许设置此种类目</p></td>
</tr>
<tr class="row-odd"><td><p>53303</p></td>
<td><p>提交的参数不合法</p></td>
</tr>
<tr class="row-even"><td><p>53304</p></td>
<td><p>与已有类目重复</p></td>
</tr>
<tr class="row-odd"><td><p>53305</p></td>
<td><p>包含未通过 IPC 校验的类目</p></td>
</tr>
<tr class="row-even"><td><p>53306</p></td>
<td><p>修改类目只允许修改类目资质，不允许修改类目 ID</p></td>
</tr>
<tr class="row-odd"><td><p>53307</p></td>
<td><p>只有审核失败的类目允许修改</p></td>
</tr>
<tr class="row-even"><td><p>53308</p></td>
<td><p>审核中的类目不允许删除</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id22">
<h2>7. 换绑管理员<a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h2>
<p>流程</p>
<ul class="simple">
<li><p>步骤一：从第三方平台页面发起，并跳转至微信公众平台指定换绑页面。</p></li>
<li><p>步骤二：小程序原管理员扫码，并填写原管理员身份证信息确认。</p></li>
<li><p>步骤三：填写新管理员信息(姓名. 身份证.
手机号)，使用新管理员的微信确认。</p></li>
<li><p>步骤四：点击提交后跳转至第三方平台页面，第三方平台回调对应 api
完成换绑流程。</p></li>
</ul>
<p>流程及接口说明</p>
<div class="section" id="id23">
<span id="id24"></span><h3>7.1. 从第三方平台跳转至微信公众平台授权注册页面<a class="headerlink" href="#id23" title="永久链接至标题">¶</a></h3>
<p>从第三方平台跳转到微信公众平台授权页，需携带的参数如下：</p>
<p>跳转到微信公众平台授权页面链接举例:</p>
<p><a class="reference external" href="https://mp.weixin.qq.com/wxopen/componentrebindadmin?appid=wx28f759479ea1e090&amp;component_appid=wx666666666666123&amp;redirect_uri=https%3a%2f%2f">https://mp.weixin.qq.com/wxopen/componentrebindadmin?appid=wx28f759479ea1e090&amp;component_appid=wx666666666666123&amp;redirect_uri=https%3a%2f%2f</a>
www.qq.com%2fauth%2fcallback%3ffrom%3dmp</p>
</div>
<div class="section" id="id25">
<h3>7.2. 小程序新旧管理员填写信息，扫码确认提交后跳转回第三方平台<a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h3>
<p>点击页面提交按钮。</p>
<p>跳转回第三方平台，会在上述 redirect_uri 后拼接 taskid=*</p>
<p>跳转回第三方平台举例：</p>
<p><a class="reference external" href="https://www.qq.com/auth/callback?taskid=b25519093b1e97239eff9d2bfc07e08e">https://www.qq.com/auth/callback?taskid=b25519093b1e97239eff9d2bfc07e08e</a></p>
</div>
<div class="section" id="id26">
<h3>7.3. 跳转至第三方平台，第三方平台调用快速注册 API 完成管理员换绑。<a class="headerlink" href="#id26" title="永久链接至标题">¶</a></h3>
<p>请求方式：</p>
<p>请求方式: POST(请使用 https 协议)</p>
<p><a class="reference external" href="https://api.weixin.qq.com/cgi-bin/account/componentrebindadmin?access_token=TOKEN">https://api.weixin.qq.com/cgi-bin/account/componentrebindadmin?access_token=TOKEN</a></p>
<p>请求示例:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;taskid&quot;</span><span class="p">:</span> <span class="s2">&quot;b25519093b1e97239eff9d2bfc07e08e&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 9%" />
<col style="width: 91%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>taskid</p></td>
<td><p>换绑管理员任务序列号(公众平台最终点击提交回跳到第三方平台时携带)</p></td>
</tr>
</tbody>
</table>
<p>返回说明:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errcode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>参数说明</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>errcode</p></td>
<td><p>错误码</p></td>
</tr>
<tr class="row-odd"><td><p>errmsg</p></td>
<td><p>错误信息</p></td>
</tr>
</tbody>
</table>
<p>错误码说明</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>错误码</p></th>
<th class="head"><p>错误码说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>85060</p></td>
<td><p>无效的 taskid</p></td>
</tr>
<tr class="row-odd"><td><p>85027</p></td>
<td><p>身份证绑定管理员名额达到上限</p></td>
</tr>
<tr class="row-even"><td><p>85061</p></td>
<td><p>手机号绑定管理员名额达到上限</p></td>
</tr>
<tr class="row-odd"><td><p>85026</p></td>
<td><p>微信号绑定管理员名额达到上限</p></td>
</tr>
<tr class="row-even"><td><p>85063</p></td>
<td><p>身份证黑名单</p></td>
</tr>
<tr class="row-odd"><td><p>85062</p></td>
<td><p>手机号黑名单</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sdk.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="open_account.html" class="btn btn-neutral float-left" title="微信开放平台帐号管理" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, nosy

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>